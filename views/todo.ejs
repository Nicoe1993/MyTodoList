<!DOCTYPE html>

<html>
    <head>
        <title>My todolist</title>
        <style>
            a {text-decoration: none; color: black;}
        </style>
    </head>

    <body>
        <h1>My todolist</h1>
        <ul>
        <% todolist.forEach(function(todo, index) { %>
            <li><a href="/todo/delete/<%= index %>">âœ˜</a> <%- todo %> 
			<a href="#" style="text-decoration: underline; color: blue;" onclick="createEditBox(<%= index %>)">Edit </a>
			<form method="post" action="/todo/edit/<%= index %>" id="container<%= index %>"></form></li>
        <% }); %>
        </ul>

        <form action="/todo/add/" method="post">
            <p>
                <label for="newtodo">What shoud I do?</label>
                <input type="text" name="newtodo" id="newtodo" autofocus />
                <input type="submit" />
            </p>
        </form>
		<script language="javascript" type="text/javascript">
			function createEditBox(myParam){
				var myContaier = document.getElementById("container"+myParam);
				
				var createBody = document.createElement("p");
				
				var inputBox = document.createElement("input");
				inputBox.setAttribute("type", "text");
				inputBox.setAttribute("name", "input");
				inputBox.setAttribute("id", "input");
				
				var myButton = document.createElement('input');
				myButton.type = "submit";
				myButton.value = "Save";
				
				myContaier.appendChild(createBody);
				myContaier.appendChild(inputBox);
				myContaier.appendChild(myButton);
			}
		</script>
    </body>
</html>
